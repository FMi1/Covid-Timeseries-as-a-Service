<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://bootswatch.com/4/lux/bootstrap.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js'></script>
    <title>Cloud Computing Project - Consumer</title>
    <style>
        .class-hover:hover{
            border-color: darkcyan;
        }
        .class-hover{
            border:3px solid black;
        }
        .graph{
            margin: auto;
        }
        canvas{
            width:800px !important;
            height:350px !important;
            margin:auto;
        }
    </style>
</head>
<body class="bg-primary">

    <div class="container">
        <div class="row">
            
            <div class="col-sm m-auto">
            <div class="card card-body text-white bg-dark text-center btn class-hover" onclick="function redirection(){window.location.href = '/regions'};redirection()" style="border-radius:10px">
                        <h3 class="text-white">Regions</h3>
            </div>
            </div>
            <div class="col-sm m-auto">
                <div class="card card-body text-dark bg-dark text-center btn class-hover" onclick="function redirection(){window.location.href = '/italy'};redirection()" style="border-radius:10px">
                    <h3 class="text-white">Italy</h3>
                </div>
            </div>
        </div>
        <div class="graph">
            <canvas id="myChart"></canvas>
        </div>
        <div class="graph">
            <canvas id="myChart2"></canvas>
        </div>
    </div>
    <!-- <script> 
    {% if risultati %}
        console.log('{{risultati}}')
    {% endif %}
    </script> -->

<script>
var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
  type: 'bar',
  data: { 
    labels: {{ data["timestamps"]|safe }},
  		datasets: [{
  			label: 'New daily positives',
  			backgroundColor: 'yellow',
  			borderColor: 'yellow',
  			data: {{ data["values"]|safe }},
  			fill: false,
  		}]
      
       },
  options: {
    scales: {
        xAxes: [ {
            display: true,
            type: 'time'
            }
        ],
    }
  }
});
var ctx2 = document.getElementById('myChart2').getContext('2d');
var chart2 = new Chart(ctx2, {
  type: 'line',
  data: { 
    labels: {{ data["timestamps"]|safe }},
  		datasets: [{
  			label: 'Total of positives',
  			backgroundColor: 'red',
  			borderColor: 'red',
  			data: {{ data["total_positives"]|safe }},
  			fill: false,
  		}]
      
       },
  options: {
    scales: {
        xAxes: [ {
            display: true,
            type: 'time'
            }
        ],
    }
  }
});
</script>
</body>
</html>